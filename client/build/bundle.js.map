{"version":3,"sources":["webpack:///webpack/bootstrap 00d88ec763616842010c","webpack:///./src/index.js","webpack:///./src/accommodation/accomView.js","webpack:///./src/accommodation/accommodation.js","webpack:///./src/flight/flight.js","webpack:///./src/flight/flightView.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,kBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH,kBAAiB,0BAA0B;AAC3C;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA,kC;AACA;AACA,kD;AACA;;AAEA,sBAAqB,4BAA4B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;AC3KA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA,mDAAkD;AAClD;AACA;AACA;AACA;;AAEA;AACA;;AAEA,4B;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,qB;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA,gC;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yB;;;;;;ACrBA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6B","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 00d88ec763616842010c\n **/","var AccomView = require('./accommodation/accomView.js');\nvar Accommodation = require('./accommodation/accommodation.js');\nvar Flight = require('./flight/flight.js');\nvar FlightView = require('./flight/flightView.js');\n\n\nvar flights = [];\nvar hotels = [];\n\nvar selectedValues = {\n  roomsWanted: 0,\n  nights: 0,\n  arrival: 0\n}\n\n\nvar displayDepartureDropdown = function(flights) {\n  names = [];\n  var select = document.querySelector(\"#departure-select\");\n  for (var i = 0; i < flights.length; i++) {\n    var flight = flights[i];\n    if(!names.includes(flight.departure)){\n      var option = document.createElement(\"option\");\n      option.innerText = flight.departure;\n      select.appendChild(option);\n      names.push(flight.departure);\n    }\n  }\n}\n\nvar displayArrivalDropdown = function(flights) {\n  names = [];\n  var select = document.querySelector(\"#arrival-select\");\n  for (var i = 0; i < flights.length; i++) {\n    var flight = flights[i];\n    if(!names.includes(flight.arrival)){\n      var option = document.createElement(\"option\");\n      option.innerText = flight.arrival;\n      select.appendChild(option);\n      names.push(flight.arrival);\n    }\n  }\n}\n\nvar displayPassengerDropdown = function() {\n  var select = document.querySelector(\"#passenger-select\");\n  for (var i = 1; i < 21; i++) {\n    var option = document.createElement(\"option\");\n    option.innerText = i;\n    select.appendChild(option);\n  };\n}\n\nvar displayNightsDropdown = function() {\n  var select = document.querySelector(\"#nights-select\");\n  for (var i = 1; i < 22; i++) {\n    var option = document.createElement(\"option\");\n    option.innerText = i;\n    select.appendChild(option);\n  };\n}\n\nvar displayRoomsDropdown = function() {\n  var select = document.querySelector(\"#rooms-select\");\n  for (var i = 1; i < 21; i++) {\n    var option = document.createElement(\"option\");\n    option.innerText = i;\n    select.appendChild(option);\n  };\n}\n\nvar displayFlights = function(displayHotels) {\n  console.log(\"button clicked\");\n  var div = document.querySelector('#flightList');\n  div.innerHTML = \"\";\n  var filteredArray = flights.filter(function(flight) {\n    var arrivalSelect = document.querySelector(\"#arrival-select\");\n    var departureSelect = document.querySelector(\"#departure-select\");\n    var dateSelect = document.querySelector(\"#date-input\")\n    console.log(dateSelect.value);\n    if (flight.departure == departureSelect.value && flight.arrival == arrivalSelect.value && flight.departing.toDateString() === new Date(dateSelect.value).toDateString() ) {\n      return true\n    }else{\n      return false\n    }\n  });\n  for (var i = 0; i < filteredArray.length; i++) {\n    var flight = filteredArray[i];\n    var flightView = new FlightView(flight);\n    flightView.render(div);\n    flightView.button.onclick = displayHotels;\n  }\n}\n\n\nwindow.onload = function(){\nvar departure_dropdown = document.getElementById('departure-select');\nvar arrival_dropdown = document.getElementById('arrival-select');\n\n  var button = document.querySelector('#go')\n  button.type = 'button';\n  button.onclick = function(){\n    displayFlights(displayHotels);\n\n  }\n\n\n  console.log('loaded');\n  var url = 'https://raw.githubusercontent.com/MichaelMacLeod/project_2/develop/updated_data.json';\n  var request = new XMLHttpRequest();\n  request.open('GET', url);\n\n  request.onload = function() {\n    if (request.status === 200) { \n      console.log(\"Got the DATA\");\n      appData = JSON.parse(request.responseText); \n      console.log(appData);\n\n      for (var i = 0; i < appData.flights.length; i++) {\n        var flightData = appData.flights[i];\n        var flight = new Flight(\n          flightData.departure,\n          flightData.arrival,\n          flightData.departing,\n          flightData.arriving,\n          flightData.price\n        );\n        flights.push(flight);\n      }\n      for (var i = 0; i < appData.hotels.length; i++) {\n        var hotelData = appData.hotels[i];\n        var hotel = new Accommodation(\n          hotelData.name,\n          hotelData.pricePerPerson,\n          hotelData.rooms,\n          hotelData.stars,\n          hotelData.address\n        );\n        console.log(hotel);\n        hotels.push(hotel);\n      }\n\n\n      displayDepartureDropdown(flights);\n      displayArrivalDropdown(flights);\n      displayPassengerDropdown();\n      displayNightsDropdown();\n      displayRoomsDropdown();\n\n\n    }\n  }\n  request.send(null)\n\n  var displayHotels = function() {\n    console.log(\"displaying hotels\");\n    var div = document.querySelector('#accomList');\n    div.innerHTML = \"\";\n    var arrivalSelect = document.querySelector(\"#arrival-select\");\n    var city = arrivalSelect.value;\n    console.log(city);\n    console.log(arrivalSelect);\n    for (var i = 0; i < hotels.length; i++) {\n      var hotel = hotels[i];\n      if (hotel.address.city == city) {\n        var view = new AccomView(hotel);\n        view.render(div);\n      }\n    }\n    console.log(hotels);\n  }\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.js\n ** module id = 0\n ** module chunks = 0\n **/","var AccomView = function(hotel){\n  this.hotel = hotel;\n\n  this.name = document.createElement('h2');\n  this.name.innerText = hotel.name;\n\n  this.pricePerPerson = document.createElement('p');\n  this.pricePerPerson.innerText = \"Â£\" +hotel.pricePerPerson;\n\n  this.stars = document.createElement('p');\n  this.stars.innerText = \"Stars: \" +hotel.stars;\n\n  this.rooms = document.createElement('p');\n  this.rooms.innerText = \"Rooms: \" + hotel.rooms;\n\n\n  // this.bookings = document.createElement('p');\n  // this.bookings.innerText = \"Room availability: \" + hotel.bookings;\n\n\n};\n\nAccomView.prototype = {\n  render: function(parent) {\n  console.log(this.hotel);\n  var roomsSelect = document.querySelector(\"#rooms-select\")\n\n  if (!this.hotel.isAvailable(roomsSelect.value)){return};\n  parent.appendChild(this.name);\n  parent.appendChild(this.pricePerPerson);\n  parent.appendChild(this.stars);\n  parent.appendChild(this.rooms);\n  \n  }\n};\n\nmodule.exports = AccomView;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/accommodation/accomView.js\n ** module id = 1\n ** module chunks = 0\n **/","var Accommodation = function(name, pricePerPerson, rooms, stars, address) {\n  this.name = name;\n  this.pricePerPerson = pricePerPerson;\n  this.rooms = rooms;\n  this.stars = stars;\n  this.address = address;\n  // this.bookings = [];\n}\n\nAccommodation.prototype = {\n  bookRoom: function(rooms) {\n    if(rooms <= this.rooms) {\n      this.rooms -= rooms\n    }\n    else(console.log(\"Not enough rooms\"))\n  },\n  isAvailable: function(desiredRooms) {\n    if (desiredRooms > this.rooms) {\n      return(false); \n    }else{\n      return(true);\n    }\n  }\n}\n \nmodule.exports = Accommodation;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/accommodation/accommodation.js\n ** module id = 2\n ** module chunks = 0\n **/","var Flight = function(departure, arrival, departing, arriving, price){\n  this.departure = departure;\n  this.arrival = arrival;\n  this.departing = new Date(this.convertDate(departing));\n  this.arriving = new Date(this.convertDate(arriving));\n  this.price = price;\n}\n\nFlight.prototype = {\n  convertDate: function(date){\n    if(!date)return;\n    var newDate = \"\";\n\n    newDate += date.substring(6, 10) + \"-\";\n    newDate += date.substring(3, 5) + \"-\";\n    newDate += date.substring(0, 2);\n    newDate += date.substring(11, 20);\n    return(newDate);\n  }\n}\n\nmodule.exports = Flight;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/flight/flight.js\n ** module id = 3\n ** module chunks = 0\n **/","var FlightView = function(flight){\n  this.title = document.createElement('h2');\n  this.title.innerText = flight.departure + \"-\" + flight.arrival;\n\n  this.times = document.createElement('p');\n  this.times.innerHTML = \"Departure: \" + flight.departing + \"<br>\" + \"Arrival: \" + flight.arriving;\n\n  this.price = document.createElement('p');\n  this.price.innerText = \"Â£\" + flight.price;\n\n  this.button = document.createElement('button');\n  this.button.innerText = \"Choose Flight\";\n};\n\nFlightView.prototype = {\n  render: function(parent) {\n  parent.appendChild(this.title);\n  parent.appendChild(this.times);\n  parent.appendChild(this.price);\n  parent.appendChild(this.button);\n  }\n};\n\nmodule.exports = FlightView;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/flight/flightView.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}